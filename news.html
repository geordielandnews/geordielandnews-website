<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="google-adsense-account" content="ca-pub-6068321329701529">
  <title>Newcastle United News</title>
  <link rel="stylesheet" href="styles.css" />

  <style>
    /* NAVBAR */
    .navbar ul {
      list-style: none;
      margin: 0;
      padding: 0;
    }
    .navbar ul li {
      display: inline-block;
      position: relative;
    }
    .dropdown-content a:hover {
      background-color: #444;
    }
    .navbar ul li a {
      font-size: 14px;
      padding: 6px 12px;
      line-height: 1.3;
      font-family: Arial, sans-serif;
      font-weight: normal;
      color: white;
      text-decoration: none;
    }
    .dropdown-content {
      display: none;
      position: absolute;
      top: 24px;
      background-color: #111;
      min-width: 160px;
      box-shadow: 0px 8px 16px rgba(0,0,0,0.2);
      z-index: 1;
      padding: 0;
      border-radius: 4px;
    }
    .dropdown-content a {
      display: block;
      color: white;
      padding: 12px 16px;
      text-decoration: none;
    }
    .dropdown:hover .dropdown-content,
    .dropdown-content:hover {
      display: block;
    }

    /* NEWS CARDS */
    .news-container {
      display: flex;
      flex-direction: column;
      gap: 16px;
      width: 1200px;
      margin: 20px auto;
    }
    .left-news-slot {
      display: flex;
      gap: 12px;
      padding: 12px;
      border: 1px solid #ccc;
      border-radius: 6px;
      background-color: #fff;
      font-family: Arial, sans-serif;
    }
    .left-news-slot img {
      width: 300px;
      height: 200px;
      border-radius: 4px;
      display: block;
      object-fit: cover;
    }
    .left-news-content {
      display: flex;
      flex-direction: column;
      flex: 1;
    }
    .left-news-slot h3 {
      margin: 0 0 6px 0;
      font-size: 1.15rem;
      color: #222;
    }
    .left-news-slot .date {
      font-size: 0.85rem;
      color: #666;
      margin-bottom: 10px;
    }
    .left-news-slot p {
      font-size: 0.95rem;
      line-height: 1.3;
      color: #333;
      margin: 0 0 1em 0;
    }
    .left-news-slot h3 a {
      text-decoration: none;
      color: #222;
    }
    .left-news-slot h3 a:hover {
      text-decoration: underline;
      color: #0066cc;
    }

    /* PAGINATION */
    #pagination button {
      background: #111;
      color: #fff;
      border: none;
      padding: 8px 12px;
      margin: 0 3px;
      border-radius: 4px;
      cursor: pointer;
    }
    #pagination button:disabled {
      background: #444;
      cursor: default;
    }

    /* FOOTER */
    footer {
      background: #111;
      color: #fff;
      text-align: center;
      padding: 1rem;
      margin-top: auto;
    }
    .social-icons a img {
      width: 24px;
      height: 24px;
      margin-left: 1rem;
      transition: filter 0.3s;
      filter: brightness(0) invert(1);
    }
    .social-icons a img:hover {
      filter: brightness(0) saturate(100%) invert(38%) sepia(89%) saturate(5634%) hue-rotate(186deg) brightness(95%) contrast(100%);
    }

    /* RESPONSIVE STYLES */
    @media (max-width: 1200px) {
      .news-container {
        width: 95%;
      }
    }
    @media (max-width: 992px) {
      .ad-panel-left,
      .ad-panel-right {
        display: none;
      }
    }
    @media (max-width: 768px) {
      .left-news-slot {
        flex-direction: column;
        align-items: center;
        text-align: center;
      }
      .left-news-slot img {
        width: 100%;
        height: auto;
      }
      .navbar ul {
        flex-direction: column;
        gap: 5px;
        text-align: center;
      }
    }
    @media (max-width: 480px) {
      .header {
        flex-direction: column;
      }
      .title {
        font-size: 1.4rem;
      }
      .navbar ul li a {
        font-size: 12px;
        padding: 4px 8px;
      }
    }
  </style>
</head>
<body>

  <!-- Left panel ad -->
  <div class="ad-panel-left">
    <ins class="adsbygoogle"
         style="display:inline-block;width:140px;height:100vh"
         data-ad-client="ca-pub-6068321329701529"
         data-ad-slot="4420623902"></ins>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6068321329701529" crossorigin="anonymous"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>

  <!-- Right panel ad -->
  <div class="ad-panel-right">
    <ins class="adsbygoogle"
         style="display:inline-block;width:140px;height:100"
         data-ad-client="ca-pub-6068321329701529"
         data-ad-slot="4894416560"></ins>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6068321329701529" crossorigin="anonymous"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>

  <!-- HEADER -->
  <header class="header">
    <img src="pictures/newcastle-logo.jpg" alt="Newcastle Logo" class="logo" />
    <h1 class="title">Geordie Land News</h1>
  </header>

  <!-- NAVBAR -->
  <nav class="navbar">
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="news.html">News</a></li>
      <li class="dropdown">
        <a href="#" class="dropbtn">Fixtures</a>
        <div class="dropdown-content">
          <a href="preseason.html">Pre Season</a>
          <a href="premierleague.html">Premier League</a>
          <a href="championsleague.html">Champions League</a>
          <a href="carabaocup.html">Carabao Cup</a>
          <a href="facup.html">FA Cup</a>
        </div>
      </li>
      <li><a href="squad.html">Squad</a></li>
      <li><a href="transfers.html">Transfers</a></li>
    </ul>
  </nav>

  <div class="sub-header">Newcastle United News</div>

  <!-- NEWS CONTAINER -->
  <div class="news-container" id="newsContainer">
    <p>Loading Newcastle news...</p>
  </div>

  <!-- PAGINATION -->
  <div id="pagination" style="text-align:center; margin:20px 0;"></div>

  <!-- NEWS SCRIPT -->
  <script>
    const FEEDS = [
      'https://feeds.bbci.co.uk/sport/football/rss.xml',
      'https://www.skysports.com/rss/12040',
      'https://www.telegraph.co.uk/football/rss.xml',
      'https://www.chroniclelive.co.uk/all-about/newcastle-united-fc/?service=rss',
      'https://www.shieldsgazette.com/sport/football/newcastle-united/rss'
    ];

    let allNews = [];
    let currentPage = 1;
    const perPage = 6;

    async function fetchNews() {
      const allItems = [];
      for (const feed of FEEDS) {
        try {
          const response = await fetch(`https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(feed)}`);
          const data = await response.json();
          if (data.status === 'ok') allItems.push(...data.items);
        } catch (e) {
          console.error('Error fetching', feed, e);
        }
      }

      const filtered = allItems.filter(item =>
        item.title.toLowerCase().includes('newcastle') ||
        (item.description && item.description.toLowerCase().includes('newcastle'))
      );

      filtered.sort((a, b) => new Date(b.pubDate) - new Date(a.pubDate));

      allNews = filtered.slice(0, 500); // up to 500 news items
      renderPage(1);
    }

    function renderPage(page) {
      currentPage = page;
      const container = document.getElementById('newsContainer');
      container.innerHTML = '';

      if (!allNews.length) {
        container.innerHTML = '<p>No Newcastle news available right now.</p>';
        return;
      }

      const start = (page - 1) * perPage;
      const end = start + perPage;
      const pageItems = allNews.slice(start, end);

      pageItems.forEach(item => {
        const pubDate = new Date(item.pubDate).toLocaleDateString(undefined, {
          weekday: 'short', year: 'numeric', month: 'short', day: 'numeric',
          hour: '2-digit', minute: '2-digit'
        });

        const div = document.createElement('div');
        div.className = 'left-news-slot';
        div.innerHTML = `
          <img src="${item.enclosure?.link || 'https://via.placeholder.com/300x200?text=News'}" alt="News Image" />
          <div class="left-news-content">
            <h3><a href="${item.link}" target="_blank">${item.title}</a></h3>
            <div class="date">${pubDate}</div>
            <p>${item.description || 'No summary available.'}</p>
          </div>
        `;
        container.appendChild(div);
      });

      renderPagination();
    }

    function renderPagination() {
      const totalPages = Math.ceil(allNews.length / perPage);
      const pagination = document.getElementById('pagination');
      pagination.innerHTML = '';

      if (totalPages <= 1) return;

      if (currentPage > 1) {
        const prevBtn = document.createElement('button');
        prevBtn.textContent = 'Previous';
        prevBtn.onclick = () => renderPage(currentPage - 1);
        pagination.appendChild(prevBtn);
      }

      for (let i = 1; i <= totalPages; i++) {
        const btn = document.createElement('button');
        btn.textContent = i;
        btn.disabled = i === currentPage;
        btn.onclick = () => renderPage(i);
        pagination.appendChild(btn);
      }

      if (currentPage < totalPages) {
        const nextBtn = document.createElement('button');
        nextBtn.textContent = 'Next';
        nextBtn.onclick = () => renderPage(currentPage + 1);
        pagination.appendChild(nextBtn);
      }
    }

    fetchNews();
  </script>

  <!-- FOOTER -->
  <footer>
    <p>&copy; 2025 Geordie Land News. All rights reserved.</p>
    <div class="social-icons">
      <a href="https://www.instagram.com/geordielandnews/" target="_blank"><img src="pictures/Instagram.png" alt="Instagram Logo"></a>
      <a href="https://x.com/geordielandnews" target="_blank"><img src="pictures/X.png" alt="X Logo"></a>
    </div>
  </footer>

</body>
</html>